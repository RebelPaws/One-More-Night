[gd_scene load_steps=11 format=3 uid="uid://chcfn41cdw6hq"]

[ext_resource type="Script" path="res://Towers/Tower_Core.gd" id="1_vv8j5"]
[ext_resource type="PackedScene" uid="uid://buwvf4b5miec0" path="res://Systems/3D_Clickable/3D_Clickable.tscn" id="2_e13ii"]
[ext_resource type="Texture2D" uid="uid://vcdmhkaiperm" path="res://Interface/Buttons/Sprites/Diamond_Buttons/Diamond_Button_Normal.png" id="3_s1aoe"]
[ext_resource type="Texture2D" uid="uid://dynrgurp2ts03" path="res://Interface/Buttons/Sprites/Diamond_Buttons/Diamond_Button_Focused.png" id="4_l56nn"]
[ext_resource type="Texture2D" uid="uid://dycyfhuurcept" path="res://Interface/Buttons/Sprites/Diamond_Buttons/Diamond_Button_Pressed.png" id="5_8m60v"]
[ext_resource type="Texture2D" uid="uid://cjv00ot8fu03b" path="res://Interface/Buttons/Sprites/Diamond_Buttons/Diamond_Button_Disabled.png" id="6_iqpml"]
[ext_resource type="FontFile" uid="uid://du5v7o0vymbvu" path="res://Interface/Fonts/Main_Font.ttf" id="7_et603"]
[ext_resource type="Texture2D" uid="uid://canenc2rsx650" path="res://Interface/Currency/Gold_Icon.png" id="8_enlw5"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_i6574"]
radius = 0.442798

[sub_resource type="BoxShape3D" id="BoxShape3D_8eq1a"]
size = Vector3(0.275044, 0.478086, 0.256124)

[node name="Tower_Template" type="Node3D"]
script = ExtResource("1_vv8j5")

[node name="Anchor" type="Node3D" parent="."]

[node name="Cam_Anchor" type="Node3D" parent="."]

[node name="Detection_Range" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="Detection_Range"]

[node name="3D_Click" parent="." instance=ExtResource("2_e13ii")]

[node name="CollisionShape3D" parent="3D_Click" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0429002, -0.18198, -0.038219)
shape = SubResource("CylinderShape3D_i6574")

[node name="Build_Button" parent="." instance=ExtResource("2_e13ii")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.704721, 0)
visible = false
button_textures = {
"Disabled": ExtResource("6_iqpml"),
"Focused": ExtResource("4_l56nn"),
"Normal": ExtResource("3_s1aoe"),
"Pressed": ExtResource("5_8m60v")
}

[node name="CollisionShape3D" parent="Build_Button" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0114856, 0.078977, 0.0488539)
shape = SubResource("BoxShape3D_8eq1a")

[node name="Sprite3D" type="Sprite3D" parent="Build_Button"]
transform = Transform3D(0.04, 0, 0, 0, 0.04, 0, 0, 0, 0.04, 0, 0, 0)
modulate = Color(0.968627, 0.713726, 0.501961, 1)
texture = ExtResource("3_s1aoe")

[node name="Label" type="Label3D" parent="Build_Button"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.23364, 0)
text = "Build Up"
font = ExtResource("7_et603")

[node name="Cost" type="Label3D" parent="Build_Button"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0245362, -0.223411, 0)
text = "-0"
font = ExtResource("7_et603")
horizontal_alignment = 0

[node name="Gold_Icon" type="Sprite3D" parent="Build_Button"]
transform = Transform3D(0.03, 0, 0, 0, 0.03, 0, 0, 0, 0.03, -0.113396, -0.217885, 0)
texture = ExtResource("8_enlw5")

[connection signal="body_entered" from="Detection_Range" to="." method="unit_detected"]
[connection signal="body_exited" from="Detection_Range" to="." method="unit_lost"]
[connection signal="ObjectClicked" from="3D_Click" to="." method="open_tower_menu"]
[connection signal="ObjectClicked" from="Build_Button" to="." method="open_tower_menu"]

[editable path="3D_Click"]
[editable path="Build_Button"]
